<!DOCTYPE html>
<html>
<head>
    <title>Search</title>

    <script src="js/jquery-1.10.1.min.js" type="text/javascript"></script>
    <script src="jPlayer/jquery.jplayer.min.js" type="text/javascript"></script>
    <script src="js/tmpl.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#jquery_jplayer_1").jPlayer({
                ready: function () { // The $.jPlayer.event.ready event
                    console.log('ready ---');
//                console.log(current);
//                $(this).jPlayer("setMedia", { // Set the media
//                    wav: current
//                }).jPlayer("play");; // Attempt to auto play the media
                },
                ended: function () {
                    console.log('stop ---');
                },
                supplied: "wav"
            });
        });

    </script>
</head>
<body>
<div id="jquery_jplayer_1"></div>

<a href="#" id="custom">Playxxx</a>

<button id="getData">RenderView</button>

<div id="result">

</div>

<script type="text/x-tmpl" id="tmpl-demo">
    <div id="jp_container_1">{%=o.length%}
        {% for (var i=0; i < o.length; i++) { %}
        <li>
            <p>{%= o[i].name %}</p>

            <p>{%= o[i].description%}</p>

            <p>Category: {%= o[i].folder%}</p>

            <p>Size: {%= o[i].size %}</p>
            <a href="{%= o[i].path%}" class="jp-play">Play</a>
            <a href="#" class="jp-pause" style="display: none">Pause</a>
        </li>
        {% } %}
    </div>
</script>

<script>

    $(document).on("click", 'a', function (event) {
        console.log('---');
        console.log($.jPlayer.event.play);
        event.preventDefault();
        var current = $(this).attr('href');
        console.log(current);
        $("#jquery_jplayer_1").jPlayer("setMedia", { // Set the media
            wav: current
        }).jPlayer("play"); // Attempt to auto play the media
    });

    $('#getData').click(function () {
        console.log('click');

        $.getJSON('api/name/airplane', function (data) {
            document.getElementById("result").innerHTML = tmpl("tmpl-demo", data);
            //  console.log(data);
        });
    });

</script>
</body>
</html>